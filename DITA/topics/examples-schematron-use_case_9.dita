<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="examples-schematron-use_case_9">
  <title>Schematron Use Case 9: Impose Capitalizing the First Letter</title>
  <body>
    <p><b>Description:</b> The following sample rule detects if elements start with a capital letter
      or a number. The rule is implemented using abstract patterns. The abstract pattern
        <codeph>starts-with-capital</codeph> has one argument representing the element to be
      checked. There are two implementations of the abstract pattern, one that specifies the
        <xmlelement>tittle</xmlelement> element as the element to verify, and one that specifies the
        <xmlelement>li</xmlelement> element.</p>
    <p><b>Sample
      Code:</b><codeblock outputclass="language-xml">&lt;sch:pattern abstract="true" id="starts-with-capital"&gt;
    &lt;sch:rule context="$element" role="information"&gt;
        &lt;sch:let name="firstNodeIsElement" value="node()[1] instance of element()"/&gt;
        &lt;sch:report test="(not($firstNodeIsElement) and (not(matches(., '^[A-Z|0-9]'))))"&gt;
            Start the element &amp;lt;$element&amp;gt; with a capital letter.&lt;/sch:report&gt;
    &lt;/sch:rule&gt;
&lt;/sch:pattern&gt;
&lt;sch:pattern is-a="starts-with-capital"&gt;
    &lt;sch:param name="element" value="title"/&gt;
&lt;/sch:pattern&gt;
&lt;sch:pattern is-a="starts-with-capital"&gt;
    &lt;sch:param name="element" value="li"/&gt;
&lt;/sch:pattern&gt;</codeblock></p>
    <p><b>Result:</b> The engine displays an error message if a title begins with a word that does
      not contain a capital letter or number as its first character.</p>
  </body>
</topic>