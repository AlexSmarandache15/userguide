<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_yty_l1b_by">
  <title>Creating a Table of Contents (TOC)</title>
  <body>
    <p>A TOC is a special page that contains links to the chapters and sections of your book. Each line contains: <ol id="ol_hpt_pdn_vz">
        <li>the title of the chapter or section</li>
        <li>a line of dots or other decoration, called leader</li>
        <li>the page number of the target chapter/section</li>
      </ol></p>
    <p>So it may look like this:</p>
    <codeblock>Installing the Software ..........................10
   On Windows ....................................12
   On Mac.........................................17</codeblock>
    <p>Obviously, there should be some structure in your document that reflects the tree of the TOC, with ID links.</p>
    <codeblock outputclass="language-xml"> &lt;ul class="toc">
    &lt;li>&lt;a href="#introduction">Introduction&lt;/a>&lt;/li>
    &lt;li>&lt;a href="#installing">Installing the Software&lt;/a>&lt;/li>
    &lt;li>&lt;ul>
          &lt;li>&lt;a href="#installing_win">On Windows&lt;/a>&lt;/li>
    &lt;/ul>&lt;/li>
    &lt;li>&lt;ul>
          &lt;li>&lt;a href="#installing_mac">On Mac&lt;/a>&lt;/li>
    &lt;/ul>&lt;/li>
 &lt;/ul></codeblock>
    <p>We will use the same <ph>target-counter</ph> function we used for <xref href="ch_cross-references.dita"/>, but first let's create a special page for the TOC:</p>
    <codeblock outputclass="language-css">@page toc {
  @top-center {
    contents: "Table of Contents";
  }
  @bottom-center {
    contents: counter(page, lower-roman);
  }
}</codeblock>
    <p>This page places the "Table of Contents" text in the header of the page hosting the TOC, and putting the number of the TOC page in the footer, with lower roman digits. </p>
    <p>Next, we will associate the defined page to the <keyword>ul</keyword> element that gives the structure:</p>
    <codeblock outputclass="language-css">ul.toc {
  page: toc;
}</codeblock>
    <p>To create the TOC entries, we will remove the bullet decoration from the <codeph>li</codeph> elements, then mark the <codeph>a</codeph> element as being a link. </p>
    <codeblock outputclass="language-css">ul.toc li {
    list-style-type:none;    
}
ul.toc a {
    link: attr(href, url);
    text-decoration:none;
}</codeblock>
    <p>After the <codeph>a</codeph> element, we use a <codeph>leader</codeph> that expands to the available width. You can specify a character pattern for the leader:<ul id="ul_uwc_sgn_vz">
        <li>dotted - creates an area filled with dots</li>
        <li>solid - creates an area filled with a dash</li>
        <li>space - creates an area filled with spaces.</li>
      </ul></p>
    <p>After the leader, we use the page number of the target element:</p>
    <codeblock outputclass="language-css">ul.toc a:after{
    color:blue;
    content: leader(".") target-counter(attr(href, url), page);
    link: attr(href, url);
}</codeblock>
  </body>
</topic>
