<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="examples-schematron-use_case_1">
  <title>Schematron Use Case 1: Impose a Relax NG Schema Declaration</title>
  <body>
    <p><b>Description:</b> The following sample rule is useful if, for example, you need to enforce
      the use of Relax NG schema declarations in all of your documents (i.e. instead of using DTD
      schemas). </p>
    <p><b>Sample
      Code:</b><codeblock outputclass="language-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;sch:schema xmlns:sch="http://purl.oclc.org/dsdl/schematron"
  queryBinding="xslt2" xmlns:saxon="http://saxon.sf.net/"&gt;
  &lt;sch:let name="rngDeclaration"
    value="processing-instruction('xml-model')
     [saxon:get-pseudo-attribute('schematypens')='http://relaxng.org/ns/structure/1.0']"/&gt;
  &lt;sch:pattern&gt;
    &lt;sch:rule context="/element()"&gt;
      &lt;sch:assert test="exists($rngDeclaration)"&gt;You must define a Relax NG schema  
        declaration in the document (DTD schemas are not supported).&lt;/sch:assert&gt;
    &lt;/sch:rule&gt;
  &lt;/sch:pattern&gt;
&lt;/sch:schema&gt;</codeblock></p>
    <p><b>Result:</b> The engine checks for a Relax NG schema declaration in the document and
      displays an error if it is missing. The error is reported on the document's root element
        (<codeph>/element()</codeph>).</p>
  </body>
</topic>