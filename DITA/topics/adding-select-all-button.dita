<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="adding-select-all-button">
  <title>Ad<?oxy_comment_start author="Steven" timestamp="20171220T093557+0200" comment="I will edit this as an Example to include in the &quot;Overiding XSLT Processing Step&quot;"?>ding
    a Button in Code Snippet Areas in DITA WebHelp Classic Out<?oxy_comment_end?>put</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>WebHelp Classic system<indexterm>Add button in code snippets
          (DITA)</indexterm></indexterm>
      </keywords>
    </metadata>
  </prolog>
  <taskbody>
    <context>
      <p>This task will get you started with how to add an action (such as a button or link) in the
        code snippet areas that are displayed in <b>DITA map to WebHelp Classic</b> output. You can
        then attach your code that does the actual processing for the action.</p>
      <p>Follow these steps:</p>
    </context>
    <steps>
      <step>
        <cmd>Open the <filepath><term keyref="glossentry_dita_ot_dir"
            ></term>\plugins\org.dita.xhtml\xsl\xslhtml\dita2htmlImpl.xsl</filepath> file.</cmd>
      </step>
      <step>
        <cmd>Locate this template: <codeph>&lt;xsl:template match="*[contains(@class, ' topic/pre
            ')]" mode="pre-fmt"></codeph>. Examine the default behavior of this template.</cmd>
      </step>
      <step>
        <cmd>Open the <filepath><term keyref="glossentry_dita_ot_dir"
            ></term>\plugins\com.oxygenxml.webhelp.classic\xsl\dita\desktop\fixup.xsl</filepath>
          file and create a template that is similar to the one you examined in step 2:
            <codeph>&lt;xsl:template match="*[contains(@class, ' topic/pre ')]"
            mode="pre-fmt"></codeph>. It will be used to override the default processing. This new
          template will include your code for creating the button. It will have the action code that
          does the actual processing attached to it (this can be written in JavaScript, for
          example).</cmd>
        <info>Example of a <i>Select all</i>
          button:<codeblock outputclass="language-xml">&lt;xsl:template match="*[contains(@class, ' topic/pre ')]" mode="pre-fmt">
    &lt;button onclick="SelectText(element)">Select all&lt;/button>
    &lt;script>
      function SelectText(element) {
        var text = document.getElementById(element);
        var range = document.body.createTextRange();
        range.moveToElementText(text);
        range.select();
      }
    &lt;/script>
  &lt;/xsl:template></codeblock></info>
      </step>
      <step>
        <cmd>Save the file and run the transformation.</cmd>
      </step>
    </steps>
  </taskbody>
</task>
