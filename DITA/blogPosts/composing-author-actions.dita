<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_h1m_54n_qcb">
    <title>Composing Author Actions</title>
    <body>
        <p>Let's say that in the <b>Author</b> visual editing mode you want each time you insert a
                <b>DITA</b> table to always have the attributes <b><codeph>colsep="1" rowsep="1"
                    frame="all"</codeph></b> set on it. The purpose of this post is to create a new
                <b>DITA</b>-specific action for inserting a table which invokes the current table
            insertion action and after this will force set those three attributes on the
                <b>table</b> element. Here are some steps to accomplish this:<ol id="ol_p5g_jpn_qcb">
                <li>Follow the steps listed in this older blog post to create an extension of the
                        <b>DITA</b> framework: <xref
                        href="http://blog.oxygenxml.com/2016/10/customizing-dita-visual-editing.html"
                        format="html" scope="external"/>.</li>
                <li>
                    <p>In the <b>Document Type Association</b> preferences page edit the <b>DITA</b>
                        framework extension you have just created. Go to the <b>Author->Actions</b>
                        tab and create a new action with ID <b>change.table.colsep</b> which sets on
                        the closest table element the (colsep="1" attribute) using the predefined
                            <xref
                            href="https://www.oxygenxml.com/doc/versions/19.1/ug-editor/topics/dg-default-author-operations.html"
                            format="html" scope="external"><b>ChangeAttributeOperation</b></xref>.
                        The custom action would look like this:</p>
                    <p><image href="https://www.oxygenxml.com/forum/files/tbl-change-colsep.png"
                            id="image_xvz_mrn_qcb"/></p>
                </li>
                <li>Based on the same idea create three new more actions called
                        "<b>change.table.rowsep</b>" and "<b>change.table.frame</b>" which will set
                    the <b>rowsep="1"</b> and <b>frame="all"</b> attributes on the closest
                    table.</li>
                <li>
                    <p>Create a new action with ID <b>insert.table.fixed.attributes</b> which uses
                        the predefined <xref
                            href="https://www.oxygenxml.com/doc/versions/19.1/ug-editor/topics/dg-default-author-operations.html"
                            format="html" scope="external"
                            ><b>ExecuteMultipleActionsOperation</b></xref> to call 4 actions in a
                        row, the original <b>insert.table</b> action ID which inserts the table,
                        followed by the three action IDs which set various attribute values to the
                        inserted table.</p>
                    <p><image href="https://www.oxygenxml.com/forum/files/tbl-new-table-action.png"
                            id="image_rht_5rn_qcb"/></p>
                </li>
                <li>Go to the <b>Toolbar</b>, in the "<b>Current actions</b>" tab remove the current
                        "<b>insert.table</b>" action and replace it with the
                        <b>insert.table.fixed.attributes</b> action ID. </li>
                <li>When editing a DITA topic, pressing the toolbar action for inserting a table
                    should now call your custom action which delegates to the original table
                    insertion action, then sets those three attributes to the inserted table.</li>
            </ol></p>
    </body>
</topic>
